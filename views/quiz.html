
{% extends "instructor/inTemplate.html" %}

{% block pageName %}
{% if grade == None %}
Take a Quiz
{% else %}
Quiz Results
{% endif %}
{% endblock %}


{% block header %}
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full"></script>
{% endblock %}



{% block maincontent %}


<div class="row">
  <div class="col-lg-8"><h2 class="page-header">Take a Quiz</h2></div>
</div>




{% if user.isTeacher %}
{% include "instructor/selectquizform.html" %}
{% endif %}


                                                          <!-- Dropdown Post -->
{% if user.isTeacher %}
  <form action="/quiz">
    <input id="hidden" type="hidden" name="quiz_name">
    <input id="submitthis" type="submit" style="visibility:hidden">
  </form>
{% else %}
  {% if grade == None %}
    <table class="table" style="width:35%;">
      <tr>
        <td style="width:35%">Quiz:</td>
        <td>{{quiz.name}}</td>
      </tr>
      <tr>
        <td>Instructor:</td>
        <td>{{quiz.author.identity}}</td>
      </tr>
    </table>
  {% endif %}
{% endif %}

<br>

                                                      <!-- Quiz Output Table -->
<div class="row">
  <div class="col-lg-12">
    <form action="/quiz" method="POST">
      <table style="width:80%">
          {% for problem in problems %}
            <tr style="text-align:center">
              <td style="padding-top:50px;padding-bottom:50px;width:10%; background-color:#eaeaea">{{ forloop.counter }}.</td>
              <td style="width: 75%"><h3>{{ problem.content }}</h3></td>
              <td><input style="width:100%"type="text" name="{{ forloop.counter }}"><td>
            </tr>
          <script>quizselected = ("{{ forloop.counter }}" > 0)</script>
        {% endfor %}
      </table>
      <button style="width:25%;float:right; display:none" id ="submit" name="selected" value="{{ selectdefault }}"class="btn btn-info" type="submit">Save</button>
    </form>
  </div>
</div>



{% if grade != None %}

<h2>user:  {{ grade.author.identity }}</h2>
<h2>{{ grade.date }}</h2>

<h1 style="color: red">Grade:  {{ grade.stringgrade }}</h1>
<br>
<br>
<br>

<div class="row">
  <div class="col-lg-12">
    <table style="width:80%">
      {%for p, a, g in grade.pag %}
        <tr style="text-align:center">
          <td style="padding-top:50px;padding-bottom:50px;width:10%; background-color:#ccc">{{ forloop.counter }}.</td>
          <td style="width:75%"><h3>{{ p }}</h3></td>
          <td><h3>{{ a }}<h3></td>
          <td>
            {% if g == 0 %}
              <img width="50%" src="./img/red_X.png"/>
            {% else %}
              <img width="60%" src="./img/green.png"/>
            {% endif %}
          </td>
        </tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endif %}


<script>

  var quizselected;
{% if user.isTeacher %}
  document.getElementById("quizzes").className += "active";
{% endif %}
  if(quizselected){
    $('#submit').css('display', 'inline');
  }

</script>



{% endblock %}
